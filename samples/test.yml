name: Test

on:
  push:
    branches: ["master", "dev", "autotest"]
    paths:
      - '.github/workflows/test.yml'
      - 'src/**'
      - 'test/**'
      - 'Project.toml'
  pull_request:
    branches: ["master", "dev"]
    paths:
      - '.github/workflows/test.yml'
      - 'src/**'
      - 'test/**'
      - 'Project.toml'

permissions:
  actions: write
  contents: read

jobs:
  test:
    uses: ProjectTorreyPines/workflows/workflows/test.yml@master
    # Optional inputs artifact_name and artifact_path for artifact upload
    # For example, uncomment the  following 3 lines to upload test result images that
    # will be generated by test/runtests.jl in test directory
    # with:
    #   artifact_name: test_result_images
    #   artifact_path: test/*.png